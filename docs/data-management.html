<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Data Management | KOSSDA Introduction to R</title>
  <meta name="description" content="Chapter 3 Data Management | KOSSDA Introduction to R" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Data Management | KOSSDA Introduction to R" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Data Management | KOSSDA Introduction to R" />
  
  
  

<meta name="author" content="Do Won Kim, Hyowon Kim" />


<meta name="date" content="2022-12-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="basic-programming-in-r.html"/>
<link rel="next" href="visualizastion-in-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">KOSSDA Introduction to R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html"><i class="fa fa-check"></i><b>2</b> Basic programming in R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#r-문법의-기초-communicating-in-r-language"><i class="fa fa-check"></i><b>2.1</b> R 문법의 기초 <strong><em>Communicating in R language</em></strong></a></li>
<li class="chapter" data-level="2.2" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#데이터-유형-data-type"><i class="fa fa-check"></i><b>2.2</b> 데이터 유형 <strong><em>Data type</em></strong></a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#숫자형-데이터numeric"><i class="fa fa-check"></i><b>2.2.1</b> 숫자형 데이터(numeric)</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#문자형-데이터characterstringtext"><i class="fa fa-check"></i><b>2.2.2</b> 문자형 데이터(character/string/text)</a></li>
<li class="chapter" data-level="2.2.3" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#날짜형-데이터-as.date"><i class="fa fa-check"></i><b>2.2.3</b> 날짜형 데이터 <code>as.Date()</code></a></li>
<li class="chapter" data-level="2.2.4" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#논리형-데이터logical-true-or-false"><i class="fa fa-check"></i><b>2.2.4</b> 논리형 데이터(logical: True or False)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#변수-유형-variable-type"><i class="fa fa-check"></i><b>2.3</b> 변수 유형 <strong><em>Variable type</em></strong></a></li>
<li class="chapter" data-level="2.4" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#데이터-구조-data-structure"><i class="fa fa-check"></i><b>2.4</b> 데이터 구조 <strong><em>Data structure</em></strong></a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#벡터vector"><i class="fa fa-check"></i><b>2.4.1</b> 벡터(Vector)</a></li>
<li class="chapter" data-level="2.4.2" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#행렬matrix"><i class="fa fa-check"></i><b>2.4.2</b> 행렬(Matrix)</a></li>
<li class="chapter" data-level="2.4.3" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#리스트list"><i class="fa fa-check"></i><b>2.4.3</b> 리스트(List)</a></li>
<li class="chapter" data-level="2.4.4" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#데이터-프레임data-frame"><i class="fa fa-check"></i><b>2.4.4</b> 데이터 프레임(Data Frame)</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#r-패키지와-라이브러리-r-packages-and-libraries"><i class="fa fa-check"></i><b>2.5</b> R 패키지와 라이브러리 <strong><em>R packages and libraries</em></strong></a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#패키지-설치-방법"><i class="fa fa-check"></i><b>2.5.1</b> 패키지 설치 방법</a></li>
<li class="chapter" data-level="2.5.2" data-path="basic-programming-in-r.html"><a href="basic-programming-in-r.html#패키지-사용하기"><i class="fa fa-check"></i><b>2.5.2</b> 패키지 사용하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-management.html"><a href="data-management.html"><i class="fa fa-check"></i><b>3</b> Data Management</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-management.html"><a href="data-management.html#내장데이터-불러오기-loading-build-in-data"><i class="fa fa-check"></i><b>3.1</b> 내장데이터 불러오기 <strong><em>Loading build-in data</em></strong></a></li>
<li class="chapter" data-level="3.2" data-path="data-management.html"><a href="data-management.html#데이터-저장하고-불러오기-exporting-and-importing-data"><i class="fa fa-check"></i><b>3.2</b> 데이터 저장하고 불러오기 <strong><em>Exporting and importing data</em></strong></a></li>
<li class="chapter" data-level="3.3" data-path="data-management.html"><a href="data-management.html#데이터-전처리-data-wrangling-pre-processing"><i class="fa fa-check"></i><b>3.3</b> 데이터 전처리 <strong><em>Data wrangling &amp; pre-processing</em></strong></a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-management.html"><a href="data-management.html#indexing-데이터프레임에서-원하는-행-열-추출하기"><i class="fa fa-check"></i><b>3.3.1</b> Indexing: 데이터프레임에서 원하는 행, 열 추출하기</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-management.html"><a href="data-management.html#preprocessing-변수-전처리하기"><i class="fa fa-check"></i><b>3.3.2</b> Preprocessing: 변수 전처리하기</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizastion-in-r.html"><a href="visualizastion-in-r.html"><i class="fa fa-check"></i><b>4</b> Visualizastion in R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="visualizastion-in-r.html"><a href="visualizastion-in-r.html#r-base-plot"><i class="fa fa-check"></i><b>4.1</b> <strong><em>R base plot</em></strong></a></li>
<li class="chapter" data-level="4.2" data-path="visualizastion-in-r.html"><a href="visualizastion-in-r.html#tidyverse---ggplot2"><i class="fa fa-check"></i><b>4.2</b> <strong><em>Tidyverse - ggplot2</em></strong></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="further-tips.html"><a href="further-tips.html"><i class="fa fa-check"></i><b>5</b> Further Tips</a></li>
<li class="divider"></li>
<li><a href="https://github.com/DO-WON/KOSSDA_Intro-to-R" target="blank">Github Version</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">KOSSDA Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-management" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">Chapter 3</span> Data Management<a href="data-management.html#data-management" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="내장데이터-불러오기-loading-build-in-data" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> 내장데이터 불러오기 <strong><em>Loading build-in data</em></strong><a href="data-management.html#내장데이터-불러오기-loading-build-in-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R에는 누구나 사용가능한 <strong>내장 데이터</strong>들이 있습니다. 가장 대표적인 몇 가지 내장 데이터를 불러오는 방법을 알려 드리겠습니다. 이 데이터들은 실습 내내 종종 등장하므로 데이터가 어떻게 생겼는지, 어떤 변수들이 있는지 등에 익숙해 지시길 바랍니다.</p>
<p>먼저, <code>data()</code>를 통해 내장 데이터를 불러올 수 있습니다. 이 함수 안에는 데이터명을 기입해 주세요.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-management.html#cb1-1" aria-hidden="true" tabindex="-1"></a>     <span class="co"># most used built-in datasets: e.g. mtcars </span></span>
<span id="cb1-2"><a href="data-management.html#cb1-2" aria-hidden="true" tabindex="-1"></a>       <span class="fu">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span></code></pre></div>
<p>mtcars 데이터(Motor Trend Car Road Tests)는 1974년 Motor Trend US magazine에서 추출한 32종의 자동차의 여러 특성들을 담은 데이터입니다. 데이터 프레임은 32개의 케이스(행)과 11개의 변수(열)로 이뤄져 있습니다.</p>
<table>
<thead>
<tr class="header">
<th align="left">변수</th>
<th align="left">의미</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">mpg</td>
<td align="left">Miles/(US) gallon</td>
</tr>
<tr class="even">
<td align="left">cyl</td>
<td align="left">Number of cylinders</td>
</tr>
<tr class="odd">
<td align="left">cyl</td>
<td align="left">Displacement (cu.in.)</td>
</tr>
<tr class="even">
<td align="left">hp</td>
<td align="left">Gross horsepower</td>
</tr>
<tr class="odd">
<td align="left">drat</td>
<td align="left">Rear axle ratio</td>
</tr>
<tr class="even">
<td align="left">wt</td>
<td align="left">Weight (1000 lbs)</td>
</tr>
<tr class="odd">
<td align="left">qsec</td>
<td align="left">1/4 mile time</td>
</tr>
<tr class="even">
<td align="left">vs</td>
<td align="left">Engine (0 = V-shaped, 1 = straight)</td>
</tr>
<tr class="odd">
<td align="left">am</td>
<td align="left">ransmission (0 = automatic, 1 = manual)</td>
</tr>
<tr class="even">
<td align="left">gear</td>
<td align="left">Number of forward gears</td>
</tr>
<tr class="odd">
<td align="left">carb</td>
<td align="left">Number of forward gears</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-management.html#cb2-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 데이터가 어떻게 생겼는지 확인하는 방법: </span></span>
<span id="cb2-2"><a href="data-management.html#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (1) head(): 데이터프레임의 상위 몇 개 행들을 출력</span></span>
<span id="cb2-3"><a href="data-management.html#cb2-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">head</span>(mtcars)</span>
<span id="cb2-4"><a href="data-management.html#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="data-management.html#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (2) summary()</span></span>
<span id="cb2-6"><a href="data-management.html#cb2-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summary</span>(mtcars) </span>
<span id="cb2-7"><a href="data-management.html#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="data-management.html#cb2-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># (3) tidyverse 패키지의 glimpse()</span></span>
<span id="cb2-9"><a href="data-management.html#cb2-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">library</span>(tidyverse)</span>
<span id="cb2-10"><a href="data-management.html#cb2-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glimpse</span>(mtcars)</span></code></pre></div>
<p>패키지 내에 내장되어 있는 데이터들도 있습니다. 먼저 패키지를 설치한 후, library()를 통해 패키지를 사용가능하도록 불러옵니다. 그 다음은 똑같은 방식으로 data()를 통해 패키지 내장 데이터를 불러와 주세요. 저희는 gapminder라는 패키지를 설치하고, 내장 데이터인 gapminder를 불러와 볼게요.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-management.html#cb3-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># datasets within packages </span></span>
<span id="cb3-2"><a href="data-management.html#cb3-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># install.packages(&quot;gapminder&quot;) </span></span>
<span id="cb3-3"><a href="data-management.html#cb3-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">library</span>(gapminder)</span>
<span id="cb3-4"><a href="data-management.html#cb3-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">data</span>(<span class="st">&quot;gapminder&quot;</span>)</span></code></pre></div>
<p><strong><code>gapminder</code></strong>데이터프레임에는 총 여섯 개의 변수가 있습니다.</p>
<table>
<thead>
<tr class="header">
<th align="left">변수</th>
<th align="left">의미</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">country</td>
<td align="left">국가</td>
</tr>
<tr class="even">
<td align="left">continent</td>
<td align="left">대륙</td>
</tr>
<tr class="odd">
<td align="left">year</td>
<td align="left">연도</td>
</tr>
<tr class="even">
<td align="left">lifeExp</td>
<td align="left">기대수명</td>
</tr>
<tr class="odd">
<td align="left">pop</td>
<td align="left">총 인구 수</td>
</tr>
<tr class="even">
<td align="left">gdpPercap</td>
<td align="left">1인당 국내총생산(단위: international dollars)</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-management.html#cb4-1" aria-hidden="true" tabindex="-1"></a>   <span class="co"># 데이터가 어떻게 생겼는지 확인해 보세요. </span></span>
<span id="cb4-2"><a href="data-management.html#cb4-2" aria-hidden="true" tabindex="-1"></a>     <span class="fu">head</span>(gapminder) </span>
<span id="cb4-3"><a href="data-management.html#cb4-3" aria-hidden="true" tabindex="-1"></a>     <span class="fu">summary</span>(gapminder) </span></code></pre></div>
</div>
<div id="데이터-저장하고-불러오기-exporting-and-importing-data" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> 데이터 저장하고 불러오기 <strong><em>Exporting and importing data</em></strong><a href="data-management.html#데이터-저장하고-불러오기-exporting-and-importing-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>R에서는 데이터프레임을 SAS, SPSS, Stata, 그리고 csv 등 다양한 확장자를 지닌 데이터 파일로 내보내거나, 혹은 다양한 확장자를 지닌 데이터 파일을 R에 데이터프레임 형태로 불러올 수 있습니다. 데이터를 내보내고(export), 불러올(import) 때에는 haven패키지와 readr패키지를 대표적으로 사용합니다. 예시는 아래와 같습니다. 실습에서는 dta확장자를 지닌 Stata파일로 내보내고, 다시 그 파일을 R로 불러오는 연습을 함께 해보겠습니다.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-management.html#cb5-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># The easiest way to get haven is to install the whole tidyverse:</span></span>
<span id="cb5-2"><a href="data-management.html#cb5-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb5-3"><a href="data-management.html#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="data-management.html#cb5-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># load &quot;haven&quot; package</span></span>
<span id="cb5-5"><a href="data-management.html#cb5-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">library</span>(haven)</span>
<span id="cb5-6"><a href="data-management.html#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="data-management.html#cb5-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># SAS</span></span>
<span id="cb5-8"><a href="data-management.html#cb5-8" aria-hidden="true" tabindex="-1"></a>          <span class="fu">write_sas</span>(mtcars, <span class="st">&quot;mtcars.sas7bdat&quot;</span>) <span class="co"># SAS 파일로 내보내기</span></span>
<span id="cb5-9"><a href="data-management.html#cb5-9" aria-hidden="true" tabindex="-1"></a>          <span class="fu">read_sas</span>(<span class="st">&quot;mtcars.sas7bdat&quot;</span>) <span class="co"># SAS 파일을 불러오기 </span></span>
<span id="cb5-10"><a href="data-management.html#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="data-management.html#cb5-11" aria-hidden="true" tabindex="-1"></a>        <span class="co"># SPSS</span></span>
<span id="cb5-12"><a href="data-management.html#cb5-12" aria-hidden="true" tabindex="-1"></a>          <span class="fu">write_sav</span>(mtcars, <span class="st">&quot;mtcars.sav&quot;</span>) <span class="co"># SPSS 파일로 내보내기</span></span>
<span id="cb5-13"><a href="data-management.html#cb5-13" aria-hidden="true" tabindex="-1"></a>          <span class="fu">read_sav</span>(<span class="st">&quot;mtcars.sav&quot;</span>) <span class="co"># SPSS 파일을 불러오기 </span></span>
<span id="cb5-14"><a href="data-management.html#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="data-management.html#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Stata</span></span>
<span id="cb5-16"><a href="data-management.html#cb5-16" aria-hidden="true" tabindex="-1"></a>          <span class="fu">write_dta</span>(mtcars, <span class="st">&quot;mtcars.dta&quot;</span>) </span>
<span id="cb5-17"><a href="data-management.html#cb5-17" aria-hidden="true" tabindex="-1"></a>          <span class="fu">read_dta</span>(<span class="st">&quot;mtcars.dta&quot;</span>)</span></code></pre></div>
<p>데이터를 불러왔는데 mtcars 내장 데이터(원본)와 조금 다릅니다. 내장 데이터에는 행의 이름(row names)이 각 자동차 종류였습니다. 즉, “자동차 종류”가 따로 변수로 있지 않았습니다.</p>
<p><img src="images/3-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-management.html#cb6-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># check row names </span></span>
<span id="cb6-2"><a href="data-management.html#cb6-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">rownames</span>(mtcars) </span></code></pre></div>
<p>따라서 먼저 mtcars 원본 데이터에 “car”이라는 이름의 새로운 변수를 만들어 줍시다. 위에서 확인한 rownames(mtcars)를 mtcars데이터프레임의 새로운 변수 “car”로 할당을 해줍니다.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-management.html#cb7-1" aria-hidden="true" tabindex="-1"></a>        mtcars<span class="sc">$</span>car <span class="ot">=</span> <span class="fu">rownames</span>(mtcars) </span>
<span id="cb7-2"><a href="data-management.html#cb7-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">head</span>(mtcars) <span class="co"># check  </span></span></code></pre></div>
<p><img src="images/3-2.png" width="100%" style="display: block; margin: auto;" /></p>
<p>car 변수가 잘 생성됐음을 확인할 수 있습니다. 이렇게 car 변수를 새로 만들어준 mtcars데이터를 stata 파일로 내보낸 후, 다시 불러와 봅시다.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-management.html#cb8-1" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_dta</span>(mtcars, <span class="st">&quot;mtcars.dta&quot;</span>) </span>
<span id="cb8-2"><a href="data-management.html#cb8-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">read_dta</span>(<span class="st">&quot;mtcars.dta&quot;</span>)</span></code></pre></div>
<p>read_dta() 함수를 통해 불러왔을 때 데이터가 console 창에 잘 뜨네요. 하지만 주의해야 할 점은 이 데이터는 console에 뜨기만 할 뿐, RStudio의 객체(object)로 저장된 것은 아니라는 점입니다. 따라서 객체에 따로 할당(assign)을 해주어야 합니다. new_mtcars라는 이름을 지닌 데이터로 할당을 해줍시다.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-management.html#cb9-1" aria-hidden="true" tabindex="-1"></a>        new_mtcars <span class="ot">=</span> <span class="fu">read_dta</span>(<span class="st">&quot;mtcars.dta&quot;</span>)</span></code></pre></div>
<p>new_mtcars로 할당이 잘 되었다면, RStudio의 Environment 창에 잘 불러와 졌음을 확인할 수 있습니다.</p>
<p><img src="images/3-3.png" width="100%" style="display: block; margin: auto;" /></p>
<p>이렇게 외부 확장자를 지닌 데이터를 불러올 때에는 새로운 객체로 저장을 해주셔야만, 이 데이터프레임을 사용할 수 있습니다.</p>
<p>데이터를 불러올 때 더 쉬운 방법은 file 창에서 불러오고 싶은 데이터를 클릭하고, Import Dataset 버튼을 클릭하여 불러오는 것입니다.</p>
<p><img src="images/3-4.png" width="80%" style="display: block; margin: auto;" /></p>
<p>이렇게 쉽게 데이터를 불러오려면, 불러오고자 하는 데이터가 R 프로젝트 폴더 안에 들어 있어야겠죠? 프로젝트 관리의 중요성이 여기서 나옵니다. 동일한 프로젝트 폴더(디렉토리) 안에 모든 파일들을 넣고 관리하시길 바랍니다.</p>
<p><img src="images/3-5.png" width="90%" style="display: block; margin: auto;" /></p>
<p>미리보기 창이 뜨고, 하단에 Code Preview가 뜹니다. library(haven)을 통해 haven 패키지를 로드한 후, read_dta() 함수를 통해서 데이터를 불러와 mtcars라는 객체로 저장해주는 코드입니다. 이 코드를 복사하여 R Script에 옮기거나, 우측 하단의 Import 버튼을 클릭하여 그대로 시행해 주시면 됩니다.</p>
<p>다음은 readr패키지를 사용하여 csv, 엑셀 파일 등을 불러오고 내보내는 연습을 해봅시다.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-management.html#cb10-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># load &quot;readr&quot; package</span></span>
<span id="cb10-2"><a href="data-management.html#cb10-2" aria-hidden="true" tabindex="-1"></a>        <span class="fu">library</span>(readr)</span>
<span id="cb10-3"><a href="data-management.html#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="data-management.html#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># CSV</span></span>
<span id="cb10-5"><a href="data-management.html#cb10-5" aria-hidden="true" tabindex="-1"></a>        <span class="fu">write_csv</span>(mtcars, <span class="st">&quot;mtcars.csv&quot;</span>) <span class="co"># mtcars 데이터프레임 객체를 mtcars.csv라는                                           이름의  csv 파일로 내보내라 </span></span>
<span id="cb10-6"><a href="data-management.html#cb10-6" aria-hidden="true" tabindex="-1"></a>        new_mtcars2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;mtcars.csv&quot;</span>) <span class="co"># mtcars.csv 파일을 R에 불러 들여와                                                   new_mtcars2라는 이름의                                                              데이터프레임으로 저장해라</span></span></code></pre></div>
</div>
<div id="데이터-전처리-data-wrangling-pre-processing" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> 데이터 전처리 <strong><em>Data wrangling &amp; pre-processing</em></strong><a href="data-management.html#데이터-전처리-data-wrangling-pre-processing" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>분석하고자 하는 데이터를 불러온 다음에는 데이터가 어떻게 생겼는지를 파악하는 작업이 필요하며, 이와 관련해서는 3-1. 내장데이터 불러오기 파트에서 세 가지의 방법을 알려드렸습니다. 이번에는 mtcars만큼이나 유명한 내장데이터인 iris 데이터를 불러와 주세요.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-management.html#cb11-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># built-in data: &quot;iris&quot; 내장 데이터 불러오기 </span></span>
<span id="cb11-2"><a href="data-management.html#cb11-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">data</span>(<span class="st">&quot;iris&quot;</span>)</span>
<span id="cb11-3"><a href="data-management.html#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="data-management.html#cb11-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 데이터가 어떻게 생겼는지 살펴봅니다. </span></span>
<span id="cb11-5"><a href="data-management.html#cb11-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">summary</span>(iris) </span>
<span id="cb11-6"><a href="data-management.html#cb11-6" aria-hidden="true" tabindex="-1"></a>          <span class="fu">str</span>(iris)</span>
<span id="cb11-7"><a href="data-management.html#cb11-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">glimpse</span>(iris) <span class="co"># tidyverse </span></span>
<span id="cb11-8"><a href="data-management.html#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="data-management.html#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 범주형 변수의 경우, table() 함수를 통해 빈도를 확인합니다. </span></span>
<span id="cb11-10"><a href="data-management.html#cb11-10" aria-hidden="true" tabindex="-1"></a>          <span class="fu">table</span>(iris<span class="sc">$</span>Species)</span></code></pre></div>
<p>데이터가 어떻게 생겼는지 확인한 후에는, 분석에 용이한 형태로 원 데이터(raw data)를 가공하는 작업이 필요합니다. 이를 데이터 전처리(data pre-processing)이라고 합니다. R에서 기본으로 제공하는 base 함수들을 활용한 전처리를 먼저 배우고, tidyverse 패키지를 활용한 간편한 전처리를 배우도록 하겠습니다.</p>
<div id="indexing-데이터프레임에서-원하는-행-열-추출하기" class="section level3 hasAnchor" number="3.3.1">
<h3><span class="header-section-number">3.3.1</span> Indexing: 데이터프레임에서 원하는 행, 열 추출하기<a href="data-management.html#indexing-데이터프레임에서-원하는-행-열-추출하기" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="base-syntax-in-r" class="section level4 hasAnchor" number="3.3.1.1">
<h4><span class="header-section-number">3.3.1.1</span> Base syntax in R<a href="data-management.html#base-syntax-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>기본 문법은 다음과 같습니다: 데이터프레임[ 행 , 열 ]. 먼저 관심 케이스(=행)을 추출하는 방법을 연습해 봅시다.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-management.html#cb12-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># iris 데이터에서 첫 번째 행을 추출하라</span></span>
<span id="cb12-2"><a href="data-management.html#cb12-2" aria-hidden="true" tabindex="-1"></a>          iris[<span class="dv">1</span>,]</span>
<span id="cb12-3"><a href="data-management.html#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="data-management.html#cb12-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째부터 다섯 번째까지의 행을 추출하라</span></span>
<span id="cb12-5"><a href="data-management.html#cb12-5" aria-hidden="true" tabindex="-1"></a>          iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, ] <span class="co"># : = ~ </span></span>
<span id="cb12-6"><a href="data-management.html#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="data-management.html#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째, 세 번째, 다섯 번째 행을 추출하라</span></span>
<span id="cb12-8"><a href="data-management.html#cb12-8" aria-hidden="true" tabindex="-1"></a>          iris[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), ] <span class="co"># c() = combine()</span></span>
<span id="cb12-9"><a href="data-management.html#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="data-management.html#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 조건부 추출: which() 함수 사용 </span></span>
<span id="cb12-11"><a href="data-management.html#cb12-11" aria-hidden="true" tabindex="-1"></a>          <span class="co"># (1) Sepal.Length가 평균 미만인 행들을 추출하라 </span></span>
<span id="cb12-12"><a href="data-management.html#cb12-12" aria-hidden="true" tabindex="-1"></a>          iris[<span class="fu">which</span>(iris<span class="sc">$</span>Sepal.Length <span class="sc">&lt;</span> <span class="fu">mean</span>(iris<span class="sc">$</span>Sepal.Length)),]</span>
<span id="cb12-13"><a href="data-management.html#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="data-management.html#cb12-14" aria-hidden="true" tabindex="-1"></a>          <span class="co"># (2) Sepal.Width가 평균 이상인 행들을 추출하라</span></span>
<span id="cb12-15"><a href="data-management.html#cb12-15" aria-hidden="true" tabindex="-1"></a>          iris[<span class="fu">which</span>(iris<span class="sc">$</span>Sepal.Width <span class="sc">&gt;=</span> <span class="fu">mean</span>(iris<span class="sc">$</span>Sepal.Width)),]</span>
<span id="cb12-16"><a href="data-management.html#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="data-management.html#cb12-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (3) Species가 setosa인 행들을 추출하라</span></span>
<span id="cb12-18"><a href="data-management.html#cb12-18" aria-hidden="true" tabindex="-1"></a>          iris[<span class="fu">which</span>(iris<span class="sc">$</span>Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span>),]</span>
<span id="cb12-19"><a href="data-management.html#cb12-19" aria-hidden="true" tabindex="-1"></a>            <span class="co"># remark: = vs. == </span></span>
<span id="cb12-20"><a href="data-management.html#cb12-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-21"><a href="data-management.html#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 조건부 추출: subset() 사용 </span></span>
<span id="cb12-22"><a href="data-management.html#cb12-22" aria-hidden="true" tabindex="-1"></a>          <span class="co"># (1) Sepal.Length가 평균 미만인 행들을 추출하라 </span></span>
<span id="cb12-23"><a href="data-management.html#cb12-23" aria-hidden="true" tabindex="-1"></a>          <span class="fu">subset</span>(iris, iris<span class="sc">$</span>Sepal.Length <span class="sc">&lt;</span> <span class="fu">mean</span>(iris<span class="sc">$</span>Sepal.Length))</span>
<span id="cb12-24"><a href="data-management.html#cb12-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-25"><a href="data-management.html#cb12-25" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (2) Sepal.Width가 평균 이상인 행들을 추출하라</span></span>
<span id="cb12-26"><a href="data-management.html#cb12-26" aria-hidden="true" tabindex="-1"></a>          <span class="fu">subset</span>(iris, iris<span class="sc">$</span>Sepal.Width <span class="sc">&gt;=</span> <span class="fu">mean</span>(iris<span class="sc">$</span>Sepal.Width))</span>
<span id="cb12-27"><a href="data-management.html#cb12-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-28"><a href="data-management.html#cb12-28" aria-hidden="true" tabindex="-1"></a>          <span class="co"># (3) Species가 setosa인 행들을 추출하라</span></span>
<span id="cb12-29"><a href="data-management.html#cb12-29" aria-hidden="true" tabindex="-1"></a>          <span class="fu">subset</span>(iris, iris<span class="sc">$</span>Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-management.html#cb13-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Species가 setosa가 아닌 애들을 추출하고 싶다면?</span></span>
<span id="cb13-2"><a href="data-management.html#cb13-2" aria-hidden="true" tabindex="-1"></a>          iris[<span class="sc">-</span><span class="fu">which</span>(iris<span class="sc">$</span>Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span>),]</span>
<span id="cb13-3"><a href="data-management.html#cb13-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">subset</span>(iris, iris<span class="sc">$</span>Species <span class="sc">!=</span> <span class="st">&quot;setosa&quot;</span>)</span></code></pre></div>
<p>다음은 관심 변수(=열)를 추출하는 방법을 연습하겠습니다.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-management.html#cb14-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># iris 데이터에서 첫 번째 열을 추출하라</span></span>
<span id="cb14-2"><a href="data-management.html#cb14-2" aria-hidden="true" tabindex="-1"></a>          iris[,<span class="dv">1</span>]</span>
<span id="cb14-3"><a href="data-management.html#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="data-management.html#cb14-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째부터 다섯 번째까지의 열을 추출하라</span></span>
<span id="cb14-5"><a href="data-management.html#cb14-5" aria-hidden="true" tabindex="-1"></a>          iris[, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]  </span>
<span id="cb14-6"><a href="data-management.html#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="data-management.html#cb14-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째, 세 번째, 다섯 번째 열을 추출하라</span></span>
<span id="cb14-8"><a href="data-management.html#cb14-8" aria-hidden="true" tabindex="-1"></a>          iris[, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)]</span>
<span id="cb14-9"><a href="data-management.html#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="data-management.html#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 변수명을 알고 있는 경우: Sepal 관련 변수들만 추출하라</span></span>
<span id="cb14-11"><a href="data-management.html#cb14-11" aria-hidden="true" tabindex="-1"></a>          iris[, <span class="fu">c</span>(<span class="st">&quot;Sepal.Length&quot;</span>, <span class="st">&quot;Sepal.Width&quot;</span>)] </span>
<span id="cb14-12"><a href="data-management.html#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="data-management.html#cb14-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># subset() 함수를 사용할 수도 있습니다.</span></span>
<span id="cb14-14"><a href="data-management.html#cb14-14" aria-hidden="true" tabindex="-1"></a>          <span class="fu">subset</span>(iris, <span class="at">select=</span><span class="fu">c</span>(Sepal.Length, Sepal.Width))</span>
<span id="cb14-15"><a href="data-management.html#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="data-management.html#cb14-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 만약 특정 변수만을 보고 싶다면: 데이터프레임$변수</span></span>
<span id="cb14-17"><a href="data-management.html#cb14-17" aria-hidden="true" tabindex="-1"></a>          iris<span class="sc">$</span>Species </span></code></pre></div>
<p>데이터프레임에서 원하는 행과 열을 각각 indexing하여 추출하는 방법을 연습했습니다. 이번에는 행과 열을 동시에 indexing해봅시다.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-management.html#cb15-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># iris 데이터에서 첫 번째 행과 다섯 번째 열을 추출하라</span></span>
<span id="cb15-2"><a href="data-management.html#cb15-2" aria-hidden="true" tabindex="-1"></a>          iris[<span class="dv">1</span>,<span class="dv">5</span>]</span>
<span id="cb15-3"><a href="data-management.html#cb15-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-4"><a href="data-management.html#cb15-4" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 첫 번째부터 다섯 번째까지의 행과 첫 번째와 다섯 번째 열을 추출하라</span></span>
<span id="cb15-5"><a href="data-management.html#cb15-5" aria-hidden="true" tabindex="-1"></a>          iris[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">5</span>)]  </span>
<span id="cb15-6"><a href="data-management.html#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="data-management.html#cb15-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Species가 setosa인 행들의 Sepal 관련 변수들 + Speicies변수만 추출하라</span></span>
<span id="cb15-8"><a href="data-management.html#cb15-8" aria-hidden="true" tabindex="-1"></a>          iris[<span class="fu">which</span>(iris<span class="sc">$</span>Species<span class="sc">==</span><span class="st">&quot;setosa&quot;</span>), <span class="fu">c</span>(<span class="st">&quot;Sepal.Length&quot;</span>, <span class="st">&quot;Sepal.Width&quot;</span>, <span class="st">&quot;Species&quot;</span>)]</span></code></pre></div>
</div>
<div id="tidyverse" class="section level4 hasAnchor" number="3.3.1.2">
<h4><span class="header-section-number">3.3.1.2</span> tidyverse<a href="data-management.html#tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>tidyverse패키지를 사용할 경우 base 함수를 사용하는 것보다 특정 조건을 갖는 행과 열을 더욱 효율적으로 추출할 수 있습니다. 행을 추출할 때에는 filter() 함수를, 열을 추출할 때에는 select() 함수를 사용합니다.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-management.html#cb16-1" aria-hidden="true" tabindex="-1"></a>        <span class="co"># iris 데이터에서 행 추출하기</span></span>
<span id="cb16-2"><a href="data-management.html#cb16-2" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (1) Sepal.Length가 평균 미만인 행들을 추출하라 </span></span>
<span id="cb16-3"><a href="data-management.html#cb16-3" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span> </span>
<span id="cb16-4"><a href="data-management.html#cb16-4" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(Sepal.Length <span class="sc">&lt;</span> <span class="fu">mean</span>(Sepal.Length))</span>
<span id="cb16-5"><a href="data-management.html#cb16-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-6"><a href="data-management.html#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (2) Sepal.Width가 평균 이상인 행들을 추출하라</span></span>
<span id="cb16-7"><a href="data-management.html#cb16-7" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span> </span>
<span id="cb16-8"><a href="data-management.html#cb16-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(Sepal.Width <span class="sc">&gt;=</span> <span class="fu">mean</span>(Sepal.Width))</span>
<span id="cb16-9"><a href="data-management.html#cb16-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-10"><a href="data-management.html#cb16-10" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (3) Species가 setosa인 행들을 추출하라</span></span>
<span id="cb16-11"><a href="data-management.html#cb16-11" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span> </span>
<span id="cb16-12"><a href="data-management.html#cb16-12" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(Species <span class="sc">==</span> <span class="st">&quot;setosa&quot;</span>)</span>
<span id="cb16-13"><a href="data-management.html#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="data-management.html#cb16-14" aria-hidden="true" tabindex="-1"></a>        <span class="co"># 열 추출하기 </span></span>
<span id="cb16-15"><a href="data-management.html#cb16-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (1) Species 열만 추출하라</span></span>
<span id="cb16-16"><a href="data-management.html#cb16-16" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span></span>
<span id="cb16-17"><a href="data-management.html#cb16-17" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(Species)</span>
<span id="cb16-18"><a href="data-management.html#cb16-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-19"><a href="data-management.html#cb16-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (2) Sepal 관련 변수들만 추출하라</span></span>
<span id="cb16-20"><a href="data-management.html#cb16-20" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span></span>
<span id="cb16-21"><a href="data-management.html#cb16-21" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(Sepal.Length, Sepal.Width) </span>
<span id="cb16-22"><a href="data-management.html#cb16-22" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-23"><a href="data-management.html#cb16-23" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (3) Species 빼고 나머지 변수들을 다 추출하라</span></span>
<span id="cb16-24"><a href="data-management.html#cb16-24" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span></span>
<span id="cb16-25"><a href="data-management.html#cb16-25" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(<span class="sc">-</span>Species)</span>
<span id="cb16-26"><a href="data-management.html#cb16-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-27"><a href="data-management.html#cb16-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># (4) Sepal 관련 변수들을 제외한 나머지를 다 추출하라</span></span>
<span id="cb16-28"><a href="data-management.html#cb16-28" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span></span>
<span id="cb16-29"><a href="data-management.html#cb16-29" aria-hidden="true" tabindex="-1"></a>          <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(Sepal.Length, Sepal.Width))</span>
<span id="cb16-30"><a href="data-management.html#cb16-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-31"><a href="data-management.html#cb16-31" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Species가 setosa인 행들의 Sepal 관련 변수들 + Speicies변수만 추출하라</span></span>
<span id="cb16-32"><a href="data-management.html#cb16-32" aria-hidden="true" tabindex="-1"></a>          iris <span class="sc">%&gt;%</span></span>
<span id="cb16-33"><a href="data-management.html#cb16-33" aria-hidden="true" tabindex="-1"></a>            <span class="fu">filter</span>(Species<span class="sc">==</span><span class="st">&quot;setosa&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-34"><a href="data-management.html#cb16-34" aria-hidden="true" tabindex="-1"></a>            <span class="fu">select</span>(Sepal.Length, Sepal.Width, Species)</span></code></pre></div>
</div>
</div>
<div id="preprocessing-변수-전처리하기" class="section level3 hasAnchor" number="3.3.2">
<h3><span class="header-section-number">3.3.2</span> Preprocessing: 변수 전처리하기<a href="data-management.html#preprocessing-변수-전처리하기" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="base-syntax-in-r-1" class="section level4 hasAnchor" number="3.3.2.1">
<h4><span class="header-section-number">3.3.2.1</span> Base syntax in R<a href="data-management.html#base-syntax-in-r-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>데이터는 palmerpenguins패키지 내장 데이터인 penguins 데이터를 사용하겠습니다.</p>
<p><strong>(1) 결측치 처리</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-management.html#cb17-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(palmerpenguins)</span>
<span id="cb17-2"><a href="data-management.html#cb17-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">data</span>(<span class="st">&quot;penguins&quot;</span>)</span>
<span id="cb17-3"><a href="data-management.html#cb17-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(penguins) </span>
<span id="cb17-4"><a href="data-management.html#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="data-management.html#cb17-5" aria-hidden="true" tabindex="-1"></a> <span class="co"># 먼저 base R syntax 를 사용해서 결측치 처리를 해봅니다. </span></span>
<span id="cb17-6"><a href="data-management.html#cb17-6" aria-hidden="true" tabindex="-1"></a> <span class="co"># 어디에 결측치가 있을까? 확인 </span></span>
<span id="cb17-7"><a href="data-management.html#cb17-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">colSums</span>(<span class="fu">is.na</span>(penguins)) <span class="co"># column 별로 sum 계산 </span></span>
<span id="cb17-8"><a href="data-management.html#cb17-8" aria-hidden="true" tabindex="-1"></a> penguins[<span class="fu">which</span>(<span class="fu">is.na</span>(penguins<span class="sc">$</span>bill_depth_mm)),] <span class="co"># 구체적으로 확인해보자 </span></span>
<span id="cb17-9"><a href="data-management.html#cb17-9" aria-hidden="true" tabindex="-1"></a> penguins[<span class="fu">which</span>(<span class="fu">is.na</span>(penguins<span class="sc">$</span>sex)),]</span>
<span id="cb17-10"><a href="data-management.html#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="data-management.html#cb17-11" aria-hidden="true" tabindex="-1"></a> <span class="co"># sex 변수에서 결측치를 가진 케이스를 모두 제거하고 새로운 데이터로 저장해 봅니다. </span></span>
<span id="cb17-12"><a href="data-management.html#cb17-12" aria-hidden="true" tabindex="-1"></a> penguins_new <span class="ot">=</span> penguins[<span class="sc">-</span><span class="fu">which</span>(<span class="fu">is.na</span>(penguins<span class="sc">$</span>sex)),]</span>
<span id="cb17-13"><a href="data-management.html#cb17-13" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(penguins_new) <span class="co"># 확인 </span></span>
<span id="cb17-14"><a href="data-management.html#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="data-management.html#cb17-15" aria-hidden="true" tabindex="-1"></a> <span class="co"># 더 쉬운 방법: na.omit()</span></span>
<span id="cb17-16"><a href="data-management.html#cb17-16" aria-hidden="true" tabindex="-1"></a> <span class="fu">na.omit</span>(penguins) </span>
<span id="cb17-17"><a href="data-management.html#cb17-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-18"><a href="data-management.html#cb17-18" aria-hidden="true" tabindex="-1"></a> <span class="co"># 참고) 새로운 데이터로 저장해주셔야 업데이트 됩니다.  </span></span></code></pre></div>
<p><strong>(2) 새 변수 만들기</strong> 펭귄들의 부리(bill)의 length와 depth를 곱해서 면적(area) 변수를 새로 만들어 봅시다.</p>
<p><img src="images/3-6.png" width="60%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-management.html#cb18-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base R syntax: </span></span>
<span id="cb18-2"><a href="data-management.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  penguins_new<span class="sc">$</span>bill_area_mm <span class="ot">&lt;-</span> penguins_new<span class="sc">$</span>bill_depth_mm <span class="sc">*</span>  penguins_new<span class="sc">$</span>bill_length_mm</span></code></pre></div>
<p>펭귄들의 body mass는 현재 gram 단위로 되어 있습니다. 이를 kg 단위로 바꿔 새로운 변수로 저장해 주세요.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-management.html#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Base R syntax: </span></span>
<span id="cb19-2"><a href="data-management.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  penguins_new<span class="sc">$</span>bill_area_mm <span class="ot">&lt;-</span></span>
<span id="cb19-3"><a href="data-management.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  penguins_new<span class="sc">$</span>bill_depth_mm<span class="sc">*</span>penguins_new<span class="sc">$</span>bill_length_mm</span></code></pre></div>
<p><strong>(3) 변수 범주화(categorizing; grouping)</strong> 연속형 변수를 범주화해봅시다. 펭귄들의 body_mass_kg 변수의 분포를 살펴보세요. 중위값 이하의 경우 0의 값을, 중위값 초과의 경우 1의 값을 갖는 이항 변수로 범주화해주세요.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-management.html#cb20-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 분포 확인 </span></span>
<span id="cb20-2"><a href="data-management.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summary</span>(penguins_new<span class="sc">$</span>body_mass_kg) </span>
<span id="cb20-3"><a href="data-management.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quantile</span>(penguins_new<span class="sc">$</span>body_mass_kg) </span>
<span id="cb20-4"><a href="data-management.html#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="data-management.html#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># recoding </span></span>
<span id="cb20-6"><a href="data-management.html#cb20-6" aria-hidden="true" tabindex="-1"></a>  penguins_new<span class="sc">$</span>body_mass_kg[penguins_new<span class="sc">$</span>body_mass_kg <span class="sc">&lt;=</span> <span class="fl">4.050</span>] <span class="ot">=</span> <span class="st">&quot;중위값 이하&quot;</span></span>
<span id="cb20-7"><a href="data-management.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  penguins_new<span class="sc">$</span>body_mass_kg[penguins_new<span class="sc">$</span>body_mass_kg <span class="sc">&gt;</span> <span class="fl">4.050</span>] <span class="ot">=</span> <span class="st">&quot;중위값 초과&quot;</span></span>
<span id="cb20-8"><a href="data-management.html#cb20-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-9"><a href="data-management.html#cb20-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># check </span></span>
<span id="cb20-10"><a href="data-management.html#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>(penguins_new<span class="sc">$</span>body_mass_kg)</span></code></pre></div>
<p>이런 방식의 재부호화는 기존 변수 위에다 특정 조건에 부합하는 경우에만 특정 값을 덮어쓴다는 점에서 추천드리지 않습니다. 항상 전처리를 하실 때에는 원래 변수를 그래도 놔둔 채로 새로운 변수를 만들어 사용하는 편이 좋습니다. 하지만 base 함수를 이용하는 경우, 그 방식이 매우 복잡해 집니다. 일단 빈 깡통(벡터)을 하나 만들어 두고, 이 빈 깡통에 if else 구문을 사용하여 값을 하나씩 채워 넣습니다. 이후 값이 모두 채워진 벡터를 데이터의 새 변수로 붙여 쓰면 됩니다. 코드는 아래와 같습니다. 단, 이 코드를 이해하기 위해선 for 구문(loop), if else 구문 등의 함수 기능을 공부하셔야 하므로 참고만 해주시길 바랍니다.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-management.html#cb21-1" aria-hidden="true" tabindex="-1"></a>   body_mass_group <span class="ot">=</span> <span class="fu">c</span>() <span class="co"># 빈 깡통 만들기 </span></span>
<span id="cb21-2"><a href="data-management.html#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="data-management.html#cb21-3" aria-hidden="true" tabindex="-1"></a>   <span class="co"># for 구문 + if else 구문 혼합하여 빈 깡통에 값 채워넣기 </span></span>
<span id="cb21-4"><a href="data-management.html#cb21-4" aria-hidden="true" tabindex="-1"></a>   <span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(penguins_new)){</span>
<span id="cb21-5"><a href="data-management.html#cb21-5" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span>(penguins_new<span class="sc">$</span>body_mass_kg [i] <span class="sc">&lt;=</span> <span class="fl">4.050</span>){</span>
<span id="cb21-6"><a href="data-management.html#cb21-6" aria-hidden="true" tabindex="-1"></a>      body_mass_group[i] <span class="ot">=</span> <span class="st">&quot;중위값 이하&quot;</span></span>
<span id="cb21-7"><a href="data-management.html#cb21-7" aria-hidden="true" tabindex="-1"></a>      }<span class="cf">else</span>{</span>
<span id="cb21-8"><a href="data-management.html#cb21-8" aria-hidden="true" tabindex="-1"></a>      body_mass_group[i] <span class="ot">=</span> <span class="st">&quot;중위값 초과&quot;</span></span>
<span id="cb21-9"><a href="data-management.html#cb21-9" aria-hidden="true" tabindex="-1"></a>      }}</span>
<span id="cb21-10"><a href="data-management.html#cb21-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-11"><a href="data-management.html#cb21-11" aria-hidden="true" tabindex="-1"></a>   penguins_new<span class="sc">$</span>body_mass_group <span class="ot">=</span> body_mass_group <span class="co"># 값이 채워진 벡터를 새로운 변수로                                                     할당 </span></span>
<span id="cb21-12"><a href="data-management.html#cb21-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-13"><a href="data-management.html#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># 확인</span></span>
<span id="cb21-14"><a href="data-management.html#cb21-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">table</span>(penguins_new<span class="sc">$</span>body_mass_group) </span></code></pre></div>
</div>
<div id="tidyverse-1" class="section level4 hasAnchor" number="3.3.2.2">
<h4><span class="header-section-number">3.3.2.2</span> Tidyverse<a href="data-management.html#tidyverse-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>이제까지 <strong>(1) 결측치 처리</strong>, <strong>(2) 새 변수 만들기</strong>, 그리고 <strong>(3) 범주화</strong>를 R의 base syntax 만으로 해보았습니다. 이렇게 어떤 패키지를 불러오지 않더라도 base 함수만으로도 분석이 가능하긴 합니다만, 더 효율적이고 쉬운 방법이 있습니다. Tidyverse를 사용하여 동일한 분석을 한번에 진행해 보겠습니다. 이 패키지의 가장 큰 장점은 %&gt;% (pipe operator; |&gt; 도 가능)을 통한 연속적이고 효율적인 코딩입니다. Tidyverse문법에서는 변수 전처리를 할 때 mutate() 를 사용해 줍니다. 또한 ’빈 깡통을 만들고 → for loop, if else 구문을 조합하여 값을 채워 넣고 → 값을 채운 벡터를 새로운 변수로 할당’하는 과정을 더 단순화해주는 ifelse() 함수도 Tidyverse 를 사용하는 큰 이유 중 하나입니다.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-management.html#cb22-1" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Tidyverse </span></span>
<span id="cb22-2"><a href="data-management.html#cb22-2" aria-hidden="true" tabindex="-1"></a>   penguins <span class="sc">%&gt;%</span> <span class="co"># 분석 대상이 되는 데이터 </span></span>
<span id="cb22-3"><a href="data-management.html#cb22-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">drop_na</span>()  <span class="sc">%&gt;%</span> <span class="co"># 결측치 처리 </span></span>
<span id="cb22-4"><a href="data-management.html#cb22-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">mutate</span>(<span class="at">bill_area_mm =</span> bill_depth_mm<span class="sc">*</span>bill_length_mm, <span class="co"># 부리 면적 변수 생성</span></span>
<span id="cb22-5"><a href="data-management.html#cb22-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">body_mass_kg =</span> body_mass_g<span class="sc">/</span><span class="dv">1000</span>, <span class="co"># 무게 kg 단위로 바꾼 변수 생성 </span></span>
<span id="cb22-6"><a href="data-management.html#cb22-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">body_mass_group =</span> <span class="fu">ifelse</span>(body_mass_kg <span class="sc">&gt;</span> <span class="fu">median</span>(body_mass_kg), <span class="st">&quot;중위값    초과&quot;</span>, <span class="st">&quot;중위값 이하&quot;</span>)</span>
<span id="cb22-7"><a href="data-management.html#cb22-7" aria-hidden="true" tabindex="-1"></a>                 ) <span class="ot">-&gt;</span> penguins_new_tidy <span class="co"># 새 데이터로 저장 </span></span>
<span id="cb22-8"><a href="data-management.html#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="data-management.html#cb22-9" aria-hidden="true" tabindex="-1"></a>   <span class="co"># 확인</span></span>
<span id="cb22-10"><a href="data-management.html#cb22-10" aria-hidden="true" tabindex="-1"></a>   <span class="fu">table</span>(penguins_new_tidy<span class="sc">$</span>body_mass_group)</span></code></pre></div>
<p><strong>(보너스)</strong> tidyverse - group_by()</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-management.html#cb23-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 대륙 별 변수 평균 요약하기: summarise(), mean() </span></span>
<span id="cb23-2"><a href="data-management.html#cb23-2" aria-hidden="true" tabindex="-1"></a>      gapminder <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="data-management.html#cb23-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> <span class="co"># 대륙 별로 묶어서 </span></span>
<span id="cb23-4"><a href="data-management.html#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(  </span>
<span id="cb23-5"><a href="data-management.html#cb23-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">lifeExp_mean =</span> <span class="fu">mean</span>(lifeExp), <span class="co"># 평균 값들을 요약해라 </span></span>
<span id="cb23-6"><a href="data-management.html#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">pop_mean =</span> <span class="fu">mean</span>(pop), </span>
<span id="cb23-7"><a href="data-management.html#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">gdpPercap_mean =</span> <span class="fu">mean</span>(gdpPercap)</span>
<span id="cb23-8"><a href="data-management.html#cb23-8" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb23-9"><a href="data-management.html#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="data-management.html#cb23-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 연도 별  </span></span>
<span id="cb23-11"><a href="data-management.html#cb23-11" aria-hidden="true" tabindex="-1"></a>      gapminder <span class="sc">%&gt;%</span></span>
<span id="cb23-12"><a href="data-management.html#cb23-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> <span class="co"># 연도 별로 묶어서 </span></span>
<span id="cb23-13"><a href="data-management.html#cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>( </span>
<span id="cb23-14"><a href="data-management.html#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">lifeExp_mean =</span> <span class="fu">mean</span>(lifeExp), <span class="co"># 평균 값들을 요약해라 </span></span>
<span id="cb23-15"><a href="data-management.html#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">pop_mean =</span> <span class="fu">mean</span>(pop), </span>
<span id="cb23-16"><a href="data-management.html#cb23-16" aria-hidden="true" tabindex="-1"></a>        <span class="at">gdpPercap_mean =</span> <span class="fu">mean</span>(gdpPercap)</span>
<span id="cb23-17"><a href="data-management.html#cb23-17" aria-hidden="true" tabindex="-1"></a>         )</span>
<span id="cb23-18"><a href="data-management.html#cb23-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-19"><a href="data-management.html#cb23-19" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 대륙 X 연도 별 변수 평균 구한 변수를 새로운 변수로 추가하기: mutate() </span></span>
<span id="cb23-20"><a href="data-management.html#cb23-20" aria-hidden="true" tabindex="-1"></a>      gapminder <span class="sc">%&gt;%</span></span>
<span id="cb23-21"><a href="data-management.html#cb23-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span> </span>
<span id="cb23-22"><a href="data-management.html#cb23-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>( </span>
<span id="cb23-23"><a href="data-management.html#cb23-23" aria-hidden="true" tabindex="-1"></a>       <span class="at">lifeExp_mean =</span> <span class="fu">mean</span>(lifeExp),  </span>
<span id="cb23-24"><a href="data-management.html#cb23-24" aria-hidden="true" tabindex="-1"></a>       <span class="at">pop_mean =</span> <span class="fu">mean</span>(pop), </span>
<span id="cb23-25"><a href="data-management.html#cb23-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">gdpPercap_mean =</span> <span class="fu">mean</span>(gdpPercap)</span>
<span id="cb23-26"><a href="data-management.html#cb23-26" aria-hidden="true" tabindex="-1"></a>         ) <span class="ot">-&gt;</span> test</span>
<span id="cb23-27"><a href="data-management.html#cb23-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-28"><a href="data-management.html#cb23-28" aria-hidden="true" tabindex="-1"></a>    <span class="co"># 확인 </span></span>
<span id="cb23-29"><a href="data-management.html#cb23-29" aria-hidden="true" tabindex="-1"></a>      <span class="fu">glimpse</span>(test)</span></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-programming-in-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualizastion-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-literature.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
